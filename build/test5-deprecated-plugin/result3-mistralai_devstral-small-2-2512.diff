@@ -1,6 +1,6 @@
 package com.google.samples.apps.nowinandroid

 import com.android.build.api.dsl.CommonExtension
+import org.jetbrains.kotlin.gradle.dsl.KotlinBaseExtension
 import org.gradle.api.JavaVersion
 import org.gradle.api.Project
 import org.gradle.api.plugins.JavaPluginExtension
@@ -9,7 +9,6 @@
 import org.gradle.kotlin.dsl.dependencies
 import org.jetbrains.kotlin.gradle.dsl.JvmTarget
 import org.jetbrains.kotlin.gradle.dsl.KotlinAndroidProjectExtension
-import org.jetbrains.kotlin.gradle.dsl.KotlinJvmProjectExtension
 import org.jetbrains.kotlin.gradle.dsl.KotlinTopLevelExtension

 /**
@@ -54,7 +53,7 @@
  * Configure base Kotlin options
  */
 private inline fun <reified T : KotlinTopLevelExtension> Project.configureKotlin() = configure<T> {
-    // Treat all Kotlin warnings as errors (disabled by default)
+    // Treat all Kotlin warnings as errors (disabled by default).
     // Override by setting warningsAsErrors=true in your ~/.gradle/gradle.properties
     val warningsAsErrors = providers.gradleProperty("warningsAsErrors").map {
         it.toBoolean()
@@ -61,8 +60,7 @@
     }.orElse(false)
     when (this) {
         is KotlinAndroidProjectExtension -> compilerOptions
-        is KotlinJvmProjectExtension -> compilerOptions
-        else -> TODO("Unsupported project extension $this ${T::class}")
+        is KotlinBaseExtension -> compilerOptions
     }.apply {
         jvmTarget = JvmTarget.JVM_11
         allWarningsAsErrors = warningsAsErrors